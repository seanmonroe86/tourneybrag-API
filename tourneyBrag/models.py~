from django.db import models

class Player(models.Model):
	userID = models.CharField(primary_key=True, max_length=30)
	username = models.CharField(max_length=30)
	password = models.CharField(max_length=30)
	gamePlayed = models.CharField(max_length=50)
	mainCharacter = models.CharField(max_length=30)

	def __str__(self):
		return self.userID + ", " + self.username + ", " + self.password + ", " + self.gamePlayed + ", " + self.mainCharacter 


class Organizer(models.Model):
	userID = models.CharField(primary_key=True, max_length=30)
	username = models.CharField(max_length=30)
	password = models.CharField(max_length=30)
	
class Administrator(models.Model):
	userID = models.CharField(primary_key=True, max_length=30)
	username = models.CharField(max_length=30)
	password = models.CharField(max_length=30)
	
class Tournament(models.Model):
	organizerOwner = models.CharField(max_length=30)
	organizerOwnerID = models.ForeignKey('Organizer', on_delete=models.DO_NOTHING,)
	tournamentTitle = models.CharField(max_length=30)
	date_created = models.DateTimeField('date created')
	date_start = models.DateTimeField('start date')

class Fan(models.Model):
	user_Fan = models.CharField(max_length=30) #user_fan is a fan of user_idol
	user_Idol = models.CharField(max_length=30)
	idolID = models.ForeignKey('Player', on_delete=models.DO_NOTHING,)

class Voucher(models.Model):
	user_voucher = models.CharField(max_length=30) #user_voucher vouches for user_receiver
	user_receiver = models.CharField(max_length=30)
	receiverID = models.ForeignKey('Organizer', on_delete=models.DO_NOTHING,)


class Entrant(models.Model):
	user_entrant = models.CharField(max_length=30)
	tournamentEntered = models.ForeignKey('Tournament', on_delete=models.DO_NOTHING,)
	hasBeenAccepted = models.BooleanField()
class Record(models.Model):
	tournamentID = models.ForeignKey('Tournament',on_delete=models.CASCADE,)
	user_winner = models.CharField(max_length=30)
	user_loser = models.CharField(max_length=30)

class Banned(models.Model):
	adminID = models.ForeignKey('Administrator', on_delete=models.DO_NOTHING,)
	bannedUser = models.CharField(max_length=30)
